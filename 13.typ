#set text(lang: "he", dir: rtl)
#set text(font: "Source Code Pro")
#show image: it => { align(center, it) } 

אביב וקנין\
316017128
= ממ"ן 13
\
== א.
ייצוג ערימה d-ית במערך זהה לייצוג ערימה בינארית במערך.\
כלומר, אם נסתכל על הערימה, ונרצה להכניסה למערך, אז נעבור צומת צומת, מלמעלה למטה, ומשמאל לימין.\
לשם שלמות, נסתכל גם כיצד נוכל למצוא הורה של צומת כלשהי, וילד כלשהו של צומת כלשהי.\ \
=== PARENT
כאשר הערימה הייתה בינארית, מציאת ההורה של צומת כלשהי היה די פשוט:
$ floor(i/2) $
אולם, זה לא יעבוד אם פשוט נחליף את 2 ב-d, לדוגמה בערימה 10-ית, עבור הצומת 2 נקבל:
$ floor(i/d)=floor(2/10)=0 $
ואילו עבור הצומת 11 (אשר גם היא ילד של הצומת הראשונה) נקבל:
$ floor(i/d)=floor(11/10)=1 $
כדי לפתור את הפער הזה, נשתמש בשארית, ונשווה אותה ל-d:
#image("parent.png", width: 55%)
=== CHILD
כעת, נרצה לכתוב שגרה אשר מוצאת את הילד ה-n'י עבור האינדקס ה-i.\
נשים לב כי di תמיד יחזיר לנו את הילד ה-(d-1)'י, לדוגמה בערימה 4-ית עבור הצומת i=1:
$ d i=4dot 1=4 $
וזהו הילד ה-3 עבור i=1.\
לכן, נקבל:
$ d i -(d-(n+1))=d i-(d-n-1)=d i-d+n+1 $
ולכן השגרה תהיה:\ \
#image("child.png", width: 55%)
#pagebreak()
== ב.
כעת, נרצה לדעת מהו גובה ערימת ה-d שלנו, בהנחה ויש בה n איברים.\
נשים לב כי בכל רמה h כלשהי בערימה קיימים $d^h$ צמתים לכל היותר.\
כלומר, בהינתן h כלשהו, מספר האיברים של הערימה ה-d'ית שלנו - אשר נסמנו n - הם:
$ n=1+d^1+d^2+...+d^h $
זהו סכום הנדסי, ולכן נקבל עבור $a=1$ ו-$r=d$, שסכום $h+1$ האיברים הללו הוא:
$ n=(d^(h+1)-1)/(d-1) $
נפתור עבור h:
$ n(d-1)=d^(h+1)-1 $
$ n(d-1)+1=d^(h+1) $
$ log_d [n(d-1)+1]=h+1 $
$ h=log_d [n(d-1)+1]-1 $
אולם, מכיוון שאנו לא רוצים לקבל מספרים עשרוניים, נשתמש בפונקציית התקרה, ונקבל את הגובה של ערימת n איברים, במונחי n ו-d:
*$ h=ceil(log_d [n(d-1)+1])-1 $*
